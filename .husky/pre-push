#!/bin/sh

echo "ğŸ” Running CI checks before push..."

# Run type checking and linting
echo "ğŸ“‹ Running npm run check..."
npm run check
if [ $? -ne 0 ]; then
  echo "âŒ CI checks failed! Fix the issues above before pushing."
  echo "ğŸ’¡ Tip: Run 'npm run check' to see all issues"
  exit 1
fi

# Run build to ensure it works
echo "ğŸ—ï¸  Running npm run build..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Fix the build errors before pushing."
  echo "ğŸ’¡ Tip: Run 'npm run build' to see the errors"
  exit 1
fi

echo "âœ… All CI checks passed! Proceeding with push..."